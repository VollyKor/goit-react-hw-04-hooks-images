(this["webpackJsonpreact-basic-files"]=this["webpackJsonpreact-basic-files"]||[]).push([[0],{10:function(e,t,n){e.exports={title:"Idle_title__ozEwq",img:"Idle_img__12HNS"}},11:function(e,t,n){e.exports={title:"Pending_title__2MrBg",icon:"Pending_icon__4SmJb",spinner:"Pending_spinner__2bWlj"}},12:function(e,t,n){e.exports={list:"Resolved_list__37inU",loader:"Resolved_loader__1XhQV"}},13:function(e,t,n){e.exports={backdrop:"Modal_backdrop__3yjTw",content:"Modal_content__2WYN1"}},14:function(e,t,n){e.exports={img:"ListItem_img__2V4v8",item:"ListItem_item__20VOQ"}},23:function(e,t,n){e.exports={btn:"LoadMoreBtn_btn__2JtMM"}},24:function(e,t,n){e.exports={img:"ModalImg_img__2BYm9"}},31:function(e,t,n){},33:function(e,t,n){},4:function(e,t,n){e.exports={header:"SearchForm_header__3XKgK",form:"SearchForm_form__2gSS9",label:"SearchForm_label__Zo-X5",icon:"SearchForm_icon__33C3m",input:"SearchForm_input__3Ge10",button:"SearchForm_button__2SjjH"}},52:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(1),i=n(6),r=n.n(i),s=(n(31),n(3)),o=(n(32),n(33),n(25)),u=n(4),l=n.n(u);function d(e){var t=e.setQuery,n=e.setStatus,i=e.status,r=Object(c.useState)(""),u=Object(s.a)(r,2),d=u[0],j=u[1],b=Object(c.useState)(""),m=Object(s.a)(b,2),h=m[0],g=m[1];return Object(a.jsx)("header",{className:"container ".concat(l.a.header),children:Object(a.jsx)("form",{className:l.a.form,onSubmit:function(e){e.preventDefault(),"pending"!==i&&d!==h&&(g(d),t(d),n("pending"))},children:Object(a.jsxs)("label",{className:l.a.label,children:[Object(a.jsx)("button",{className:l.a.button,type:"submit",children:Object(a.jsx)(o.a,{"aria-label":"Search Icom",className:l.a.icon})}),Object(a.jsx)("input",{type:"text",className:l.a.input,onChange:function(e){return function(e){var t=e.target.value;j(t)}(e)}})]})})})}var j=n(8),b=n(34),m={apiKey:"18765895-18a10ce9a19270e66dddd4391",page:1,getImgs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"1",n="https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=".concat(e,"&page=").concat(t,"&per_page=12&key=").concat(this.apiKey);return b.get(n).then((function(e){return e})).catch((function(e){throw e}))},reset:function(){this.page=1},pageIncrement:function(){return this.page+=1},getNextPageImgs:function(e){return this.pageIncrement(),this.getImgs(e,this.page)}},h=n(10),g=n.n(h),f=n.p+"static/media/emptyList.c08a4850.png";function p(){return Object(a.jsxs)("div",{className:"wrapper relative",children:[Object(a.jsx)("h1",{className:g.a.title,children:"Input some Query for search Img"}),Object(a.jsx)("img",{className:g.a.img,src:f,alt:"empty list"})]})}var O=n.p+"static/media/logo.6ce24c58.svg",_=n(11),x=n.n(_);function v(){return Object(a.jsxs)("div",{className:"wrapper",children:[Object(a.jsx)("h2",{className:x.a.title,children:"Loading..."}),Object(a.jsx)("img",{className:x.a.icon,src:O,alt:"react icon",width:"300px",height:"300px"})]})}var N=n(12),S=n.n(N),y=n(23),w=n.n(y);function I(e){var t=e.handleClick,n=e.isLoading;return Object(a.jsxs)("button",{className:w.a.btn,type:"button",onClick:t,children:[n&&"...Loading",!n&&"Load More"]})}var k=n(13),L=n.n(k),C=document.querySelector("#modal-root");function M(e){var t=e.children,n=e.onClose;function r(e){"Escape"===e.code&&n()}Object(c.useEffect)((function(){return window.addEventListener("keydown",r),function(){window.removeEventListener("keydown",r)}}),[]);return Object(i.createPortal)(Object(a.jsx)("div",{className:L.a.backdrop,onClick:function(e){e.target===e.currentTarget&&n()},children:Object(a.jsx)("div",{className:L.a.content,children:t})}),C)}var q=n(14),E=n.n(q);function F(e){var t=e.id,n=e.webformatURL,c=e.tags,i=e.onClick;return Object(a.jsx)("li",{className:E.a.item,onClick:function(){return i(t)},children:Object(a.jsx)("img",{className:E.a.img,"data-id":t,src:n,alt:c,width:"180px",height:"150px"})})}var R=n(24),P=n.n(R);function Q(e){var t=e.imgObj,n=t.id,c=t.largeImageURL,i=t.tags;return Object(a.jsx)("img",{className:P.a.img,id:n,src:c,alt:i})}function T(e){var t=e.query,n=e.addData,i=e.data,r=Object(c.useState)(!1),o=Object(s.a)(r,2),u=o[0],l=o[1],d=Object(c.useState)(!1),j=Object(s.a)(d,2),b=j[0],h=j[1],g=Object(c.useState)({}),f=Object(s.a)(g,2),p=f[0],O=f[1],_=function(e){!function(e){var t=i.find((function(t){return t.id===e}));O(t)}(e),h(!0)};return 0===i.length?Object(a.jsx)("div",{children:"There's nothing here! Try another query"}):i.length>0?Object(a.jsxs)("div",{className:"wrapper",children:[Object(a.jsx)("ul",{className:S.a.list,children:i.map((function(e){var t=e.webformatURL,n=e.id,c=e.tags;return Object(a.jsx)(F,{webformatURL:t,id:n,tags:c,onClick:_},n)}))}),Object(a.jsx)(I,{isLoading:u,handleClick:function(){l(!0),m.getNextPageImgs(t).then((function(e){var t=e.data.hits;n(t),window.scrollTo({top:document.documentElement.offsetHeight,behavior:"smooth"})})).catch((function(e){return console.log(e)})).finally((function(){l(!1)}))}}),b&&Object(a.jsxs)(M,{onClose:function(){return h(!1)},children:[Object(a.jsx)("p",{className:S.a.loader,children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."}),Object(a.jsx)(Q,{imgObj:p,hideModal:function(){return h(!1)}})]})]}):void 0}function U(){return Object(a.jsx)("div",{className:"wrapper",children:Object(a.jsx)("h2",{children:"Rejected"})})}function B(e){var t=e.status,n=e.query,i=e.setStatus,r=Object(c.useState)([]),o=Object(s.a)(r,2),u=o[0],l=o[1],d=Object(c.useState)(""),b=Object(s.a)(d,1)[0];Object(c.useEffect)((function(){"pending"===t&&(m.reset(),m.getImgs(n).then((function(e){if(200===e.status)return i("resolved"),void l(Object(j.a)(e.data.hits));i("rejected")})))}),[n,i,t]);return"idle"===t?Object(a.jsx)(p,{}):"pending"===t?Object(a.jsx)(v,{}):"resolved"===t?Object(a.jsx)(T,{data:u,addData:function(e){l((function(t){return[].concat(Object(j.a)(t),Object(j.a)(e))}))},query:n}):"rejected"===t?Object(a.jsx)(U,{message:b}):void 0}function J(){var e=Object(c.useState)(""),t=Object(s.a)(e,2),n=t[0],i=t[1],r=Object(c.useState)("idle"),o=Object(s.a)(r,2),u=o[0],l=o[1];return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(d,{setQuery:i,status:u,setStatus:l}),Object(a.jsx)("main",{className:"container",children:Object(a.jsx)(B,{status:u,setStatus:l,query:n})})]})}r.a.render(Object(a.jsx)(J,{}),document.getElementById("root"))}},[[52,1,2]]]);
//# sourceMappingURL=main.8d48cf7c.chunk.js.map